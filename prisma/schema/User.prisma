//** initialize the relationships in all the models with User

model User {
    id                     String    @id @default(uuid())
    firstName              String    @map("first_name")
    lastName               String    @map("last_name")
    password               String
    email                  String    @unique
    role                   Role      @default(USER)
    profilePicture         String?
    gender                 Gender?
    birth                  DateTime?
    country                String?
    city                   String?
    isActive               Boolean   @default(true) @map("is_active")
    isEmailVerified        Boolean   @default(false)
    emailVerifyToken       String?   @unique @map("email_verify_token")
    emailTokenExpiresAt    DateTime? @map("email_token_expires")
    passwordChangeAt       DateTime? @map("password_change_at")
    passwordResetToken     String?   @unique @map("password_reset_token")
    passwordResetExpiredAt DateTime? @map("password_reset_at")
    createdAt              DateTime  @default(now()) @map("created_at")
    updatedAt              DateTime  @updatedAt @map("updated_at")

    //* the relationships
    account   Account[]
    bags      Bags[]
    suitcases Suitcases[]
    items     Items[]

    //* the nama of the table
    @@map("users")
}

model Permission {
    id      String   @id @default(uuid())
    action  String
    subject String[]

    rolePermissions RoleOnPermission[]

    @@unique([action, subject])
    @@map("permissions")
}

model RoleOnPermission {
    id           String     @id @default(uuid())
    role         Role
    permission   Permission @relation(fields: [permissionId], references: [id])
    permissionId String

    @@map("role_on_permission")
}
