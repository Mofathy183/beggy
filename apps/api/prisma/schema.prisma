// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
    provider        = "prisma-client"
    output          = "./generated/prisma"
    previewFeatures = ["relationJoins"]
}

datasource db {
    provider = "postgresql"
}

/// ============================================================
/// Authentication & Authorization
/// ============================================================

/// Authentication providers supported by the system.
enum AuthProvider {
    GOOGLE
    FACEBOOK
    LOCAL
}

/// ------------------------------------------------------------
/// Role (user groups)
/// ------------------------------------------------------------
/// Represents high-level access groups in the application.
///
/// - ADMIN      → full system access
/// - MODERATOR  → elevated content control
/// - MEMBER     → regular user with extended perks
/// - USER       → base-level user
///
/// Roles are mapped to permissions using the RoleOnPermission table.
enum Role {
    ADMIN
    MODERATOR
    MEMBER
    USER
}

/// ------------------------------------------------------------
/// Action (verb)
/// ------------------------------------------------------------
/// Represents **what** operation the user wants to perform.
///
/// Common RBAC pattern:
/// - CREATE → adding a new resource
/// - READ   → retrieving/viewing a resource
/// - UPDATE → modifying an existing resource
/// - DELETE → removing a resource
/// - MANAGE → full control (create/read/update/delete)
///
/// MANAGE is typically reserved for admins or elevated roles.
enum Action {
    CREATE
    READ
    UPDATE
    DELETE
    MANAGE
}

/// ------------------------------------------------------------
/// Scope (ownership level)
/// ------------------------------------------------------------
/// Defines **which resources** the user can act on:
///
/// - OWN → User can act only on resources they own  
///         (e.g., "update my own bag")
///
/// - ANY → User can act on any resource in the system  
///         (e.g., admin can update any user's bag)
///
/// This is combined with `Action` inside `Permission` to form:
///   e.g., CREATE + OWN
///         READ + ANY
enum Scope {
    OWN
    ANY
}

/// ------------------------------------------------------------
/// Subject (system resources)
/// ------------------------------------------------------------
/// The type of resource a permission applies to.
///
/// Example:
/// - BAG        → packing bag
/// - ITEM       → item within a bag
/// - SUITCASE   → suitcase configuration
/// - USER       → user account
/// - ROLE       → system roles
/// - PERMISSION → RBAC permissions
///
/// A permission always ties:
///    Action + Scope + Subject
/// For example:
///   READ + OWN + BAG
enum Subject {
    BAG
    ITEM
    SUITCASE
    USER
    ROLE
    PERMISSION
}

/// Types of system-issued tokens.
enum TokenType {
    EMAIL_VERIFICATION
    PASSWORD_RESET
    CHANGE_EMAIL
}

/// ============================================================

/// ============================================================
/// Domain Enums
/// ============================================================

/// Materials used in bags, suitcases, or items.
enum Material {
    LEATHER
    SYNTHETIC
    FABRIC
    POLYESTER
    NYLON
    CANVAS
    HARD_SHELL
    METAL
}

/// Categories used to classify items stored in bags or suitcases.
enum ItemCategory {
    ELECTRONICS
    ACCESSORIES
    FURNITURE
    MEDICINE
    CLOTHING
    BOOKS
    FOOD
    TOILETRIES
    DOCUMENTS
    SPORTS
}

/// Types of bags supported by the system.
enum BagType {
    BACKPACK
    DUFFEL
    TOTE
    MESSENGER
    LAPTOP_BAG
    TRAVEL_BAG
    HANDBAG
    CROSSBODY
    SHOULDER_BAG
}

/// Types of suitcases based on usage and construction.
enum SuitcaseType {
    CARRY_ON
    CHECKED_LUGGAGE
    HARD_SHELL
    SOFT_SHELL
    BUSINESS
    KIDS
    EXPANDABLE
}

/// Optional features available for suitcases.
///
/// Note:
/// Absence of features should be represented
/// by an empty array in the model.
enum SuitcaseFeature {
    TSA_LOCK
    WATERPROOF
    EXPANDABLE
    USB_PORT
    LIGHTWEIGHT
    ANTI_THEFT
    SCRATCH_RESISTANT
    COMPRESSION_STRAPS
    TELESCOPIC_HANDLE
    SPINNER_WHEELS
}

/// Optional features available for bags.
///
/// Note:
/// Absence of features should be represented
/// by an empty array in the model.
enum BagFeature {
    WATERPROOF
    PADDED_LAPTOP_COMPARTMENT
    USB_PORT
    ANTI_THEFT
    MULTIPLE_POCKETS
    LIGHTWEIGHT
    EXPANDABLE
    REINFORCED_STRAPS
    TROLLEY_SLEEVE
    HIDDEN_POCKET
    RFID_BLOCKING
}

/// General size classification used across bags and suitcases.
enum Size {
    SMALL
    MEDIUM
    LARGE
    EXTRA_LARGE
}

/// Wheel configurations for suitcases.
enum WheelType {
    NONE
    TWO_WHEEL
    FOUR_WHEEL
    SPINNER
}

/// Defines the concrete type of a container.
///
/// Used to distinguish the owning domain model
/// (e.g., Bag vs Suitcase) while keeping shared
/// physical constraints in the Containers table.
enum ContainerType {
    BAG
    SUITCASE
}

/// Gender information used in user profiles.
enum Gender {
    MALE
    FEMALE
    OTHER
}

/// ============================================================

/// ============================================================
/// Measurement Enums
/// ============================================================

/// Units used for measuring item or bag weight.
enum WeightUnit {
    GRAM
    KILOGRAM
    POUND
    OUNCE
}

/// Units used for measuring volume or capacity.v
enum VolumeUnit {
    ML
    LITER
    CU_CM // cubic centimeters
    CU_IN // cubic inches
}

/// ============================================================
