// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
    provider        = "prisma-client"
    output          = "./generated/prisma"
    previewFeatures = ["relationJoins"]
}

datasource db {
    provider = "postgresql"
}

// Remove redundant @map when value is just lowercase version
// Only use @map when DB value differs from enum name

enum Material {
    LEATHER
    SYNTHETIC
    FABRIC
    POLYESTER
    NYLON
    CANVAS
    HARD_SHELL
    METAL
}

enum ItemCategory {
    ELECTRONICS
    ACCESSORIES
    FURNITURE
    MEDICINE
    CLOTHING
    BOOKS
    FOOD
    TOILETRIES
    DOCUMENTS
    SPORTS
}

enum BagType {
    BACKPACK
    DUFFEL
    TOTE
    MESSENGER
    LAPTOP_BAG
    TRAVEL_BAG
    HANDBAG
    CROSSBODY
    SHOULDER_BAG
}

enum SuitcaseType {
    CARRY_ON
    CHECKED_LUGGAGE
    HARD_SHELL
    SOFT_SHELL
    BUSINESS
    KIDS
    EXPANDABLE
}

// REMOVED "NONE" - use empty array in your model instead
enum SuitcaseFeature {
    TSA_LOCK
    WATERPROOF
    EXPANDABLE
    USB_PORT
    LIGHTWEIGHT
    ANTI_THEFT
    SCRATCH_RESISTANT
    COMPRESSION_STRAPS
    TELESCOPIC_HANDLE
    SPINNER_WHEELS
}

// REMOVED "NONE" - use empty array in your model instead
enum BagFeature {
    WATERPROOF
    PADDED_LAPTOP_COMPARTMENT
    USB_PORT
    ANTI_THEFT
    MULTIPLE_POCKETS
    LIGHTWEIGHT
    EXPANDABLE
    REINFORCED_STRAPS
    TROLLEY_SLEEVE
    HIDDEN_POCKET
    RFID_BLOCKING
}

enum Size {
    SMALL
    MEDIUM
    LARGE
    EXTRA_LARGE
}

enum WheelType {
    NONE
    TWO_WHEEL
    FOUR_WHEEL
    SPINNER
}

enum Gender {
    MALE
    FEMALE
    OTHER
}

// Renamed from "Providers" to be clearer
enum AuthProvider {
    GOOGLE
    FACEBOOK
}

/// ------------------------------------------------------------
/// Action (verb)
/// ------------------------------------------------------------
/// Represents **what** operation the user wants to perform.
///
/// Common RBAC pattern:
/// - CREATE → adding a new resource
/// - READ   → retrieving/viewing a resource
/// - UPDATE → modifying an existing resource
/// - DELETE → removing a resource
/// - MANAGE → full control (create/read/update/delete)
///
/// MANAGE is typically reserved for admins or elevated roles.
enum Action {
    CREATE
    READ
    UPDATE
    DELETE
    MANAGE
}

/// ------------------------------------------------------------
/// Scope (ownership level)
/// ------------------------------------------------------------
/// Defines **which resources** the user can act on:
///
/// - OWN → User can act only on resources they own  
///         (e.g., "update my own bag")
///
/// - ANY → User can act on any resource in the system  
///         (e.g., admin can update any user's bag)
///
/// This is combined with `Action` inside `Permission` to form:
///   e.g., CREATE + OWN
///         READ + ANY
enum Scope {
    OWN
    ANY
}

/// ------------------------------------------------------------
/// Subject (system resources)
/// ------------------------------------------------------------
/// The type of resource a permission applies to.
///
/// Example:
/// - BAG        → packing bag
/// - ITEM       → item within a bag
/// - SUITCASE   → suitcase configuration
/// - USER       → user account
/// - ROLE       → system roles
/// - PERMISSION → RBAC permissions
///
/// A permission always ties:
///    Action + Scope + Subject
/// For example:
///   READ + OWN + BAG
enum Subject {
    BAG
    ITEM
    SUITCASE
    USER
    ROLE
    PERMISSION
}

/// ------------------------------------------------------------
/// Role (user groups)
/// ------------------------------------------------------------
/// Represents high-level access groups in the application.
///
/// - ADMIN      → full system access
/// - MODERATOR  → elevated content control
/// - MEMBER     → regular user with extended perks
/// - USER       → base-level user
///
/// Roles are mapped to permissions using the RoleOnPermission table.
enum Role {
    ADMIN
    MODERATOR
    MEMBER
    USER
}

enum TokenType {
    EMAIL_VERIFICATION
    PASSWORD_RESET
    CHANGE_EMAIL
    TWO_FACTOR
}
