//*Important to make relationship between User and Bags (one to many)

model Bags {
    id    String  @id @default(uuid())
    name  String
    type  BagType
    color String? @default("black")
    size  Size

    maxCapacity Float // liters or cubic capacity (static)
    maxWeight   Float // kg the bag can safely hold (static)
    bagWeight   Float // the empty bag weight

    material  Material?
    features  BagFeature[]
    createdAt DateTime     @default(now()) @map("created_at")
    updatedAt DateTime     @updatedAt @map("updated_at")

    userId String? @map("user_id")
    user   User?   @relation(fields: [userId], references: [id])

    bagItems BagItems[]

    @@map("bags")
}

model BagItems {
    bagId  String @map("bag_id")
    itemId String @map("item_id")

    bag  Bags  @relation(fields: [bagId], references: [id], onDelete: Cascade)
    item Items @relation(fields: [itemId], references: [id], onDelete: Cascade)

    createdAt DateTime @default(now()) @map("created_at")
    updatedAt DateTime @updatedAt @map("updated_at")

    @@id([bagId, itemId]) // Composite Primary Key
    @@map("bag_items") // Table name in DB
}
